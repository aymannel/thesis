\section{Higher Order Controlled-Rotations}

We can implement higher order controlled rotations by nesting singly-controlled rotations in CNOT gates as in Yordanov \textit{et al} \cite{Yordanov2020}. For instance, we implement a doubly-controlled $Z$ rotation using the singly-controlled rotations highlighted.

\includezxdiagram{chapter-4/CCRZ}{0.7}

By carefully choosing the form of the singly-controlled rotations, we can cancel the highlighted $\text{CNOT}_{1, 2}$ gates, further reducing circuit depth.

\includezxdiagram{chapter-4/CCRZ2}{0.9}

For the purposes of this thesis, we are interested in the phase polynomial that results by eliminating all CNOT gates in the circuit. We can obtain the correct phase polynomial by first expressing all $Z$ rotations as phase gadgets, then commuting all the CNOT gates to one side of circuit, using the fact that they are self-inverse.

\includezxdiagram{chapter-4/CCRZ_proof2}{0.9}

Recalling the phase gadget commutation rule, we observe that the phase polynomial that results consists only of commuting phase gadgets. Hence there are many possibly decompositions into quantum circuit notation.

By recursively applying the method of nesting controlled rotations, we can build controlled rotation of arbitrary arity. Hence, as with the doubly-controlled rotation, we can express a triply-controlled rotation by nesting two doubly-controlled rotations as follows.

\includezxdiagram{chapter-4/CCCRZ}{1}

Using the same rules as before, we can show that a triply-controlled rotation corresponds to the following phase polynomial of commuting phase gadgets.
\includezxdiagram{chapter-4/CCCRZ_zx}{0.8}
